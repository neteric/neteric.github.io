---
title: "分布式系统概述"
date: 2022-10-02T10:21:24+08:00
draft: true
tags:
  [
    "distribute",
  ]
categories: ["distribute"]
---
> [前文](https://neteric.top/posts/storage-engine-compare/)我们推演对比了B+Tree和LSM Tree的思想和特点，由于工作需要（出于好奇）我需要了解下分布式搜索引擎ElasticSearch及其存储引擎Lucene是怎样在组织和管理数据，于是本文探索学习一下ElasticSearch在数据存储和检索方面有哪些新的考虑。因为ElasticSearch是一个分布式存储系统，所以在这之前还是有必要解释一下分布式系统的一些设计背景

### 分布式系统
- 什么是分布式系统？
  在[MIT6.824课程](https://mit-public-courses-cn-translatio.gitbook.io/mit6-824/)中对“分布式系统”的宏观定义是这样的
> 分布式系统的核心是通过网络来协调，共同完成一致任务的一些计算机，比如：大型网站的储存系统、大数据运算，如 MapReduce、以及一些更为奇妙的技术，比如点对点的文件共享

- 分布式系统的驱动力和挑战
  - 人们需要获得更高的计算性能或者存储容量。可以这么理解这一点，（大量的计算机意味着）大量的并行运算，大量CPU、大量内存、以及大量磁盘在并行的运行

  - 另一个人们构建分布式系统的原因是，它可以提供容错（tolerate faults）。比如两台计算机运行完全相同的任务，其中一台发生故障，可以切换到另一台
  - 第三个原因是，一些问题天然在空间上是分布的。例如银行转账，我们假设银行A在纽约有一台服务器，银行B在伦敦有一台服务器，这就需要一种两者之间协调的方法。所以，有一些天然的原因导致系统是物理分布的
  - 最后一个原因是，人们构建分布式系统来达成一些安全的目标。比如有一些代码并不被信任，但是你又需要和它进行交互，这些代码不会立即表现的恶意或者出现bug。你不会想要信任这些代码，所以你或许想要将代码分散在多处运行，这样你的代码在另一台计算机运行，我的代码在我的计算机上运行，我们通过一些特定的网络协议通信。所以，我们可能会担心安全问题，我们把系统分成多个的计算机，这样可以限制出错域。

- 分布式存储系统需要具有的特性解决方案对比
  - 可扩展性（Scalability）
  - 可用性（Availability）or 容错性（Fault Tolerance）
  - 一致性（Consistency）
